---
layout:     post
title:      "MySQL - 查询截取分析"
subtitle:   " \"MySQL Knowledge - 高级部分\""
date:       2021.01.19 12:29:00
author:     "Wuy"
header-img: "img/post-bg-2020.jpg"
catalog: true
tags:
    - 学习笔记
    - 读书
    - MySQL
---

> *"Keep Learning MySQL"*

# 查询截取分析

## 小表驱动大表

原则就是小的数据集驱动大的数据集，比如：

```mysql
select * from A where id in (select id from B);
// 等价于
for select id from B;
for select * from A where A.id = B.id;
```

上述例子，当B表的数据集小于A表的数据集时，用`in` 优于`exists`。

```mysql
select * from A where exists (select 1 from B where B.id = A.id);
// 等价于
for select * from A;
for select * from B where B.id = A.id;
```

当A表的数据集小于B表的数据集时，用`exists`优于`in`。

注意：

- A表与B表的`id`字段需要建立索引;
- `exists`后面的子查询中的`select`清单会被忽略，因此怎么写都没问题。

